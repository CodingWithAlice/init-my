<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>flatçš„å¤šç§å®ç°æ–¹æ³•</title>
</head>

<body>
    <script>
        // æ–¹æ³•ä¸€ï¼šåŸ flat æ•°ç»„
        // var flatFun = (arr) => {
        //     return arr.flat(0);
        // }
        // æ–¹æ³•äºŒï¼šé€’å½’
        function flatFun(arr) {
            let res = [];
            arr.forEach(item => {
                if (Array.isArray(item)) {
                    // é€’å½’å†™æ³•ä¸€ï¼š
                    res = res.concat(arguments.callee(item));
                    // é€’å½’å†™æ³•äºŒï¼š
                    // res = res.concat(flatFun(item));
                } else {
                    res.push(item);
                }
            });
            return res;
        }

        // æµ‹è¯•ç”¨ä¾‹
        let test = [
            {
                key: ["ğŸ·", ["ğŸ¶", "ğŸ¶"], ["ğŸ¶", ["ğŸ‘", ["ğŸ²"]], "ğŸ·"]],
                value: []
            },
            // {
            //     key: [1, [2], 1, 1, [2, [3, 3], 2, 2, [3, 3, 3, [4, 4, 4]], 2], 1, 1],
            //     value: 2,
            // },
        ];
        test.forEach((item, index) => {
            if (flatFun(item.key) === item.value) {
                console.log(`æµ‹è¯•ç”¨ä¾‹${index + 1}é€šè¿‡æµ‹è¯•ï¼Œå…¥å‚ä¸º${item.key}`);
                return
            }
            console.log(`æµ‹è¯•ç”¨ä¾‹${index + 1}æœªé€šè¿‡æµ‹è¯•ï¼Œå…¥å‚ä¸º${item.key},é¢„æœŸç»“æœä¸º${item.value},å®é™…ç»“æœä¸º${flatFun(item.key)}`);
        })
    </script>

</body>

</html>