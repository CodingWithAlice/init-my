<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>141. 环形链表</title>
</head>
<script src="../a.js">
    // 定义一个链表
    function ListNode(val) {
        this.val = val;
        this.next = null;
    }
    // var hasCycle = function(head) {
    //     if (head === null || head.next === null) {
    //         return false;
    //     }
    //     let circle = false;
    //     // 用两个数组存储当前节点和下一个节点的值
    //     let arr = [head.val];
    //     let arrNext = [head.next.val];
    //     for(let i = head.next; i.next !== null && !circle; i = i.next) {
    //         // 存在且相等
    //         if (arr.includes(i.val) && (arr.indexOf(i.val) === arrNext.indexOf(i.next.val))) {
    //             circle = true;
    //             return circle;
    //         }
    //         arr.push(i.val);
    //         arrNext.push(i.next.val);
    //     }
    //     return circle
    // }

    // 方法二
    // 除非不报错，报错就是有环
    // var hasCycle = (head) => {
    //     try {
    //         JSON.stringify(head);
    //     } catch (error) {
    //         return true
    //     }
    //     return false
    // }

    // 方法三
    // var hasCycle = (head) => {
    //     while (head !== null) {
    //         if(head.tag) {
    //             return true
    //         }
    //         head.tag = true;
    //         head = head.next;
    //     }
    //     return false
    // }

    // 方法四
    var hasCycle = (head) => {
        let set = new Set();
        while (head !== null) {
            if (set.has(head)) {
                return true;
            }
            set.add(head);
            head = head.next;
        }
        return false
    }
    // 伪造入参
    // [-1,-7,7,-4,19,6,-9,-5,-2,-5]
    l1 = new ListNode(-1);
    l11 = new ListNode(-7);
    l12 = new ListNode(7);
    l13 = new ListNode(-4);
    l14 = new ListNode(19);
    l15 = new ListNode(6);
    l16 = new ListNode(9);
    l17 = new ListNode(-5);
    l18 = new ListNode(-2);
    l19 = new ListNode(-5);
    l1.next = l11;
    l11.next = l12;
    l12.next = l13;
    l13.next = l14;
    l14.next = l15;
    l15.next = l16;
    l16.next = l17;
    l17.next = l18;
    l18.next = l19;
    l19.next = l18;

    hasCycle(l1);
</script>
<script>
    // 定义一个链表
    function listNode(value, next = null) {
        return {
            value,
            next
        }
    }
    const l2 = listNode(2);
    const l1 = listNode(1, l2);

    // 废弃
    var hasCycle = function (head) {
        let cursor1 = head;
        let cursor2 = head.next;
        if (!cursor1 || !cursor2) { return false }
        while (cursor1) {
            while (cursor2) {
                console.log(1111)
                if (cursor2.value === cursor1.value) {
                    return true
                }
                cursor2 = cursor2.next;
            }
            console.log(22222)
            cursor1 = cursor1.next;
        }
        console.log(3333)

        return false
    };
    console.log(hasCycle(l1))
</script>

<body>
    <div>定义一个函数，输入一个链表的头节点，反转该链表并输出反转后链表的头节点 </div>
</body>

</html>