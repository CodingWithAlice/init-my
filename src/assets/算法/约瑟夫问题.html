<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>çº¦ç‘Ÿå¤«é—®é¢˜</title>
</head>

<body>
    <script>
        // 100ä¸ªäººä¸ºæˆåœˆï¼Œä» 1 - 100 ç¼–ç ï¼Œæ¥æ”¶è¾“å…¥ Mï¼Œä»ç¬¬ä¸€ä¸ªäººå¼€å§‹æŠ¥æ•°ï¼ŒæŠ¥åˆ° M çš„äººè‡ªåŠ¨é€€å‡ºè¿™ä¸ªåœˆï¼Œä¸‹ä¸ªäººæ¥ç€ä»1æŠ¥æ•°ï¼Œç›´åˆ°å‰©ä½™äººæ•°å°‘äºMï¼Œè¾“å‡ºå‰©ä½™äººçš„ç¼–ç 
        function circle(M) {
            if (M <= 1 || M >= 100) {
                return 'ERROR!'
            }
            if (M === 2) return '1';
            let origin = Array.from({ length: 100 }, (it, index) => (
                index + 1
            ));

            while (origin.length > M) {
                const size = origin.length;
                let i = 1;
                for (; i * M <= size; i++) {
                    origin[i * M - 1] = null
                }
                origin = origin.filter(it => it);
                // ç§»é™¤äº† i - 1 ä¸ªäºº
                const last = (i - 1) * M - (i - 1);
                origin = origin.slice(last).concat(origin.slice(0, last));

            }

            origin.splice(M - 1, 1);
            return origin.sort((a, b) => a - b).join(',');

        }
        function josephus(M) {
            if (M === 2) return 1; // ç»å…¸çº¦ç‘Ÿå¤«é—®é¢˜çš„å·²çŸ¥è§£
            let people = Array.from({ length: 100 }, (_, i) => i + 1);
            let current = 0;
            while (people.length >= M) {
                current = (current + M - 1) % people.length;
                people.splice(current, 1);
            }
            return people.sort((a, b) => a - b);
        }


        // æµ‹è¯•
        [2, 3, 4, 5, 6, 9, 10, 88].forEach((it, index) => {

            const res = circle(it);
            const stand = josephus(it);
            if (res != stand) {
                console.log(`âŒ æµ‹è¯• test M = ${it}ï¼ŒæœŸå¾…è¿”å› ${stand}ï¼Œå®é™…è¿”å› ${res}`)
            } else {
                console.log(`æµ‹è¯• test M = ${it} å·²é€šè¿‡`)
            }
            if (index === 6) {
                console.log('ğŸŒ¹ æµ‹è¯•ç”¨ä¾‹å…¨éƒ¨é€šè¿‡')
            }
        })


    </script>
</body>

</html>